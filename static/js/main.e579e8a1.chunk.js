(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{278:function(e,t,n){},284:function(e,t){},285:function(e,t){},293:function(e,t){},296:function(e,t){},297:function(e,t){},303:function(e,t,n){"use strict";n.r(t);var a=n(20),i=n.n(a),c=n(140),r=n.n(c),o=(n(278),n(6)),s=n(322),d=n(323),l=n(320),u=n(4),m=n.n(u),h=n(19),f=n(11),b=n(206),j={model:"https://raw.githubusercontent.com/mattborghi/mnist-webapp/main/model/content/model.json"};var p=function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],i=t[1];function c(){return(c=Object(f.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a(t.model);case 3:n=e.sent,i(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){b.b().then((function(){!function(e){c.apply(this,arguments)}(j)}))}),[]),[function e(t,a){n?n.predict([b.c(t).reshape([1,28,28,1])]).array().then((function(e){var t=(e=e[0]).indexOf(Math.max.apply(Math,Object(h.a)(e)));console.log("predicted: ",t," with probability: ",Math.max.apply(Math,Object(h.a)(e)),"%"),a(t)})):setTimeout((function(){e(t)}),50)}]},g=n(55),x=Object(l.a)((function(e){return{item:{border:"3px solid red",height:"83vh"},container:{padding:20},button:{textAlign:"center"},canvas:{width:"100%",height:"100%"},image:{width:"100%",height:"100%",textAlign:"center"},title:{textAlign:"center",padding:0,margin:0}}}));var v=function(){var e=x(),t=p(),n=Object(o.a)(t,1)[0],i=Object(a.useState)(""),c=Object(o.a)(i,2),r=c[0],l=c[1];return Object(a.useEffect)((function(){if(n){var e=document.getElementById("myCanvas"),t=e.getContext("2d"),a=document.getElementById("paint"),i=getComputedStyle(a);e.width=parseInt(i.getPropertyValue("width")),e.height=parseInt(i.getPropertyValue("height"));var c={x:0,y:0},r=function(){t.lineTo(c.x,c.y),t.stroke()};e.addEventListener("mousemove",(function(t){c.x=t.pageX-e.offsetLeft,c.y=t.pageY-e.offsetTop}),!1),t.lineWidth=25,t.lineJoin="round",t.lineCap="round",t.strokeStyle="red",e.addEventListener("mousedown",(function(n){t.moveTo(c.x,c.y),t.beginPath(),e.addEventListener("mousemove",r,!1)}),!1),e.addEventListener("mouseup",(function(){e.removeEventListener("mousemove",r,!1);var a=new Image;a.onload=function(){t.drawImage(a,0,0,28,28);for(var e=t.getImageData(0,0,28,28).data,i=[],c=0;c<e.length;c+=4){var r=(e[c]+e[c+1]+e[c+2]+e[c+3])/4;i.push(r/255)}i.every((function(e){return 0===e}))?console.error("Can't be all zeros!"):n(i,l)},a.src=e.toDataURL("image/png")}),!1)}}),[n]),Object(g.jsxs)(s.a,{container:!0,className:e.container,direction:"row",justify:"space-around",alignItems:"center",children:[Object(g.jsx)(s.a,{className:e.title,item:!0,xs:12,children:Object(g.jsx)("h1",{children:"MNIST Number Predictor"})}),Object(g.jsx)(s.a,{className:e.item,item:!0,xs:12,sm:5,children:Object(g.jsx)("div",{id:"paint",className:e.canvas,children:Object(g.jsx)("canvas",{id:"myCanvas"})})}),Object(g.jsx)(s.a,{item:!0,sm:2}),Object(g.jsx)(s.a,{className:e.item,item:!0,xs:12,sm:5,children:Object(g.jsx)("div",{id:"number",className:e.image,children:Object(g.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 48 1",xmlns:"http://www.w3.org/2000/svg",focusable:"false",style:{caretColor:"transparent"},children:[""!==r&&Object(g.jsxs)("text",{x:"0",y:"0",fill:"black",fontSize:"30%",children:["Predicted:"," "]}),Object(g.jsx)("text",{x:"30",y:"5",fill:"red",children:r})]})})}),Object(g.jsx)(s.a,{className:e.button,item:!0,xs:!0,children:Object(g.jsx)(d.a,{variant:"outlined",onClick:function(){return l("")},children:"Clear"})})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,325)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),O()}},[[303,1,2]]]);
//# sourceMappingURL=main.e579e8a1.chunk.js.map